{% extends "base.html" %}
{% load static %}

{% block title %}Admin Dashboard | Vacathon{% endblock %}

{% block content %}
<section class="page-header">
    <h1>Admin Dashboard</h1>
    <p>Overview of all marathon events and participants.</p>
</section>

<div class="admin-stats">
    <div class="stat-card">
        <h3>Total Participants</h3>
        <p>{{ total_participants }}</p>
    </div>
    <div class="stat-card">
        <h3>Total Events</h3>
        <p>{{ total_events }}</p>
    </div>
    <div class="stat-card">
        <h3>Active Events</h3>
        <p>{{ active_events }}</p>
    </div>
    <div class="stat-card">
        <h3>Completed Events</h3>
        <p>{{ completed_events }}</p>
    </div>
</div>

<section class="data-section">
    <h2>Participants per Event Report</h2>
    <table>
        <thead>
            <tr>
                <th>Event</th>
                <th>Number of Participants</th>
            </tr>
        </thead>
        <tbody>
            {% for data in participants_per_event %}
            <tr>
                <td>{{ data.event__title }}</td>
                <td>{{ data.total }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="2">No registration data available.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</section>

<a href="{% url 'profiles:admin-event-list' %}">Manage Events</a>
<a href="{% url 'profiles:admin-participant-list' %}">Manage Participants</a>
<a href="{% url 'profiles:admin-forum' %}">Moderate Forum</a>
<a class="btn outline" href="{% url 'profiles:dashboard' %}">Back to Profile</a>
{% endblock %}
